# Passive Discovery

[Home](README.md)

## Recon-NG

<details>

Automates passive discovery

### Add modules

``Marketplace search``

``Marketplace install <path of module from marketplace>``

### Add keys

Sign up for accounts and get api keys

``Keys list``

``Keys add <api name> <key>``

``Keys add shodan_api lkasdjfalskdjfalsdjflaksjdflajs``

### Helpful modules

#### Whois POC Harvester

Description:

Uses the ARIN Whois RWS to harvest POC data from whois queries for the given domain. Updates the
'contacts' table with the results.

#### Bing Hostname Enumerator

Description:

Harvests hosts from Bing.com by using the 'site' search operator. Updates the 'hosts' table with the
results.

#### Google Hostname Enumerator

Description:

Harvests hosts from Google.com by using the 'site' search operator. Updates the 'hosts' table with
the results.
May run into CAPTCHA when using this module.

#### Certificiate Transparency Search

Description:

Searches certificate transparency data from crt.sh, adding newly identified hosts to the hosts
table.

#### BuiltWith Enumerator

Keys: builtwith_api

Description:

Leverages the BuiltWith API to identify hosts, technologies, and contacts associated with a domain.

#### Shodan Hostname Enumerator

Keys: shodan_api

Description:

Harvests hosts from the Shodan API by using the 'hostname' search operator. Updates the 'hosts'
table with the results.

### Module Usage

We have to load each module before we can use it. Can use one loaded module at a time

``module load <path of module>``

To show options, description, and key name if applicable

``info``

To set options

``options set <option name> <option value>``

</details>

## Google Dorks

<details>

Google Search strings to help in web-based discovery. Could be a great way to discover login pages for SET credential harvesting.

### nGinx

``intitle:"Welcome to nginx!" intext:"Welcome to nginx on Debian!" intext:"Thank you for"``

### FTP

``intitle:"index of" "ftp.log"``

### General Account Discovery

``intitle:"index of" share.passwd OR cloud.passwd OR ftp.passwd -public``

[Exploit-DB](https://www.exploit-db.com/google-hacking-database)

[Introduction to the Google Hacking Database](https://www.youtube.com/watch?v=i9mGAdYo_pk)

</details>

## Default Password DB

<details>

Repository for default passwords for many products and appliances

[Default Passwords](https://cirt.net/passwords)

</details>

## Free Carrier Lookup

<details>

Free Carrier Lookup can provide carrier information for a given phone number

This information can be useful during a social engineering campaign

[Free Carrier Lookup](https://freecarrierlookup.com/)

</details>

## MX Toolbox

<details>

MX Toolbox assists with email dns record analysis and blacklist checking

MX Record Lookup

Email Header Analyzer

Blacklist Checker

[MX Toolbox](https://mxtoolbox.com/)

</details>

## theHarvester

<details>

Used to gather domain and email information

    theHarvester -d <targetdomain> -b google

### Sources

* google  =>  google search engine
* googleCSE => google custom search engine
* google-profiles  =>  google search engine, specific search for Google profiles
* bing => microsoft search engine
* bingapi => microsoft search engine, through the API (you need to add your Key in the discovery/bingsearch.py file)
* dogpile => Dogpile search engine
* pgp => pgp key server â€“ pgp.rediris.es
* linkedin => google search engine, specific search for Linkedin users
* vhost => Bing virtual hosts search
* twitter => twitter accounts related to an specific domain (uses google search)
* googleplus => users that works in target company (uses google search)
* yahoo => Yahoo search engine
* baidu  => Baidu search engine
* shodan => Shodan Computer search engine, will search for ports and banner of the discovered hosts

Included in kali

[Information Gathering Using TheHarvester](http://www.hacking-tutorial.com/tips-and-trick/information-gathering-using-theharvester-in-kali-linux/)

[Easy Intelligence Gathering](https://n0where.net/easy-intelligence-gathering/)

</details>

## Fake Identity Generator

<details>

Excellent tool to generate fake profile info

![Fake Identity Generator](/media/fakeident1.jpg)

[Fake Identity Generator](https://backgroundchecks.org/justdeleteme/fake-identity-generator/)

</details>

## OSINT

<details>

Framework for passive discovery. This framework has many great utilities for passive discovery.

[OSINT Framework](https://osintframework.com/)

</details>

## Maltego

<details>

Automates information gathering

Included in kali. To run, run the following from bash terminal

    maltego

Click new button in top left to open new graph. Drag / drop items from the pallette pane to the graph pane.

Add domain and set it to a known domain name. Right click and choose a transform to run.

The transforms you run will build the graph with discovered information.

[Hak5 Maltego 101](https://www.youtube.com/watch?v=wx4mEQZM_0s)

[Paterva Maltego Training](https://www.youtube.com/watch?v=sP-Pl_SRQVo)

[Maltego Tutorial](https://www.youtube.com/watch?v=5mPVTOFe3E8)

</details>

## Shodan

<details>

Search engine for internet-connected devices. The best way to use shodan is as a plugin in Recon-NG or theHarvester.

[Shodan](https://www.shodan.io)

</details>

## Dun Bradstreet

<details>

Provides detailed company information.

[Dun Bradstreet](https://www.dnb.com/)

</details>
